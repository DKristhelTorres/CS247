<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play&Boom - Game Board</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <style>
        body {
            background: #000;
            color: #fff;
            margin: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .cinematic {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            z-index: 10;
        }
        .cinematic-text {
            font-size: 2.2rem;
            text-align: center;
            max-width: 700px;
            opacity: 0;
            transition: opacity 0.8s;
            letter-spacing: 1px;
            line-height: 1.4;
            color: #fff;
        }
        .cinematic-text.active {
            opacity: 1;
        }
        .game-board {
            display: none;
            padding: 20px;
        }
        .game-board.active {
            display: block;
        }
        .player-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 10px;
            background: #2c3e50;
            border-radius: 8px;
        }
        .player-card {
            background: #34495e;
            padding: 15px;
            border-radius: 6px;
            color: white;
            text-align: center;
            min-width: 150px;
        }
        .player-card.host {
            border: 2px solid #e74c3c;
        }
        .player-card .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-bottom: 10px;
        }
        .game-status {
            text-align: center;
            margin: 20px 0;
            font-size: 1.2em;
            color: #ecf0f1;
        }
        .countdown {
            font-size: 2em;
            color: #e74c3c;
            text-align: center;
            margin: 20px 0;
        }
        .game-area {
            background: #2c3e50;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="cinematic">
        <div id="cinematic-text" class="cinematic-text"></div>
    </div>
    <div class="game-board">
        <div class="player-info" id="player-info"></div>
        <div class="game-status" id="game-status"></div>
        <div class="game-area" id="game-area"></div>
    </div>
    <script>
        // Cinematic narrative lines
        const narrative = [
            "You are a chaotic and rather unbothered government spy. You are what they call...",
            "A PIGEON",
            "In your journey of making abstract nests, you had enough of fighting for crumbs in these New York streets.",
            "Your job? Trigger in your fellow 'pigeon' mates a segfault in their surveillance system to get rid of the competition."
        ];
        const cinematicDiv = document.querySelector('.cinematic');
        const cinematicText = document.getElementById('cinematic-text');
        const gameBoard = document.querySelector('.game-board');
        const playerInfo = document.getElementById('player-info');
        const gameStatus = document.getElementById('game-status');
        const gameArea = document.getElementById('game-area');

        // Show cinematic sequence
        let idx = 0;
        function showCinematicLine(i) {
            cinematicText.classList.remove('active');
            setTimeout(() => {
                cinematicText.textContent = narrative[i];
                cinematicText.classList.add('active');
            }, 400);
        }
        function nextCinematic() {
            if (idx < narrative.length) {
                showCinematicLine(idx);
                idx++;
                setTimeout(() => {
                    cinematicText.classList.remove('active');
                    setTimeout(nextCinematic, 1300); // fade out before next
                }, 4500); // show each line for 4.5s
            } else {
                // Hide cinematic and show game board
                cinematicDiv.style.display = 'none';
                gameBoard.classList.add('active');
                // Optionally, initialize your game here
                renderPlayerCards();
                gameStatus.textContent = 'Game Started!';
                gameArea.innerHTML = '<h2>Game Board</h2><p>Game initialization in progress...</p>';
            }
        }

        // Render player cards (same as before)
        function renderPlayerCards() {
            playerInfo.innerHTML = '';
            const gamePlayers = JSON.parse(localStorage.getItem('gamePlayers') || '[]');
            gamePlayers.forEach(player => {
                const isHost = player.includes('(Host)');
                const playerCard = document.createElement('div');
                playerCard.className = `player-card ${isHost ? 'host' : ''}`;
                playerCard.innerHTML = `
                    <img src="avatar1.png" alt="Avatar" class="avatar">
                    <div class="player-name">${player}</div>
                    <div class="player-status">${isHost ? 'Host' : 'Player'}</div>
                `;
                playerInfo.appendChild(playerCard);
            });
        }

        // Start cinematic on load
        nextCinematic();
    </script>
</body>
</html> 